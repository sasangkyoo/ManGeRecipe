# 🍳 만개의레시피 데이터 수집 및 분석 프로젝트

## 📌 프로젝트 개요

국내 대표 요리 커뮤니티 [`10000recipe.com`](https://www.10000recipe.com/)에서 레시피 데이터를 수집하고 분석하는 종합적인 프로젝트입니다. 요리 초보자 및 1인 가구를 위한 맞춤형 레시피 추천 시스템 개발을 목표로 합니다.

---

## 🎯 주요 기능

### 🔍 **데이터 수집 (크롤링)**
- **원본 크롤러** (`10000recipe.py`): 기본적인 레시피 데이터 수집
- **개선된 크롤러** (`10000recipe_final.py`): OOP 구조, 로깅, 데이터 검증
- **성능 최적화 크롤러** (`10000recipe_optimized.py`): 멀티스레딩, 세션 풀링
- **안정적인 크롤러** (`10000recipe_robust.py`): SSL 오류, 연결 끊김 방지

### 🚀 **API 서버**
- **FastAPI 기반 REST API** (`api_server.py`): 수집된 데이터를 웹 API로 제공
- **API 클라이언트** (`api_client_example.py`): API 사용 예제

### 📊 **데이터 분석**
- **데이터 분석기** (`data_analyzer.py`): 통계 분석 및 시각화
- **설정 관리** (`config.yaml`): 크롤러 설정 외부화

---

## 📦 수집 데이터 정의

### ✅ `food_data` (레시피 목록)
| 필드 | 설명 |
|------|------|
| `ID` | 레시피 고유 아이디 |
| `Title` | 레시피 제목 |
| `Author` | 작성자 |
| `View` | 조회수 |
| `Image` | 대표 이미지 URL |

### ✅ `recipe_data` (레시피 상세)
| 필드 | 설명 |
|------|------|
| `ID` | 레시피 고유 아이디 |
| `Serving` | 몇 인분 기준인지 |
| `Preparation_Time` | 조리 시간 |
| `Difficulty` | 난이도 |
| `Ingredient` | 주재료 목록 |
| `Condiment` | 양념 목록 |

---

## 🛠️ 크롤러 종류 및 특징

### 1. **원본 크롤러** (`10000recipe.py`)
- 기본적인 순차 크롤링
- 간단한 예외 처리
- CSV 저장

### 2. **개선된 크롤러** (`10000recipe_final.py`)
- **OOP 구조**: 클래스 기반 설계
- **로깅 시스템**: 상세한 작업 로그
- **데이터 검증**: 필수 필드 확인
- **세션 관리**: 연결 재사용
- **다중 형식 저장**: CSV + JSON

### 3. **성능 최적화 크롤러** (`10000recipe_optimized.py`)
- **멀티스레딩**: 4개 워커로 병렬 처리
- **세션 풀링**: 효율적인 연결 관리
- **배치 처리**: 그룹 단위 요청
- **진행률 표시**: tqdm 프로그레스 바

### 4. **안정적인 크롤러** (`10000recipe_robust.py`)
- **SSL 오류 해결**: 검증 비활성화
- **연결 끊김 방지**: 재시도 전략
- **봇 감지 방지**: 랜덤 지연, User-Agent 변경
- **세션 풀**: 안정적인 연결 관리

---

## 🚀 API 서버 기능

### **엔드포인트**
- `GET /recipes` - 모든 레시피 조회
- `GET /recipes/{recipe_id}` - 특정 레시피 조회
- `GET /search` - 레시피 검색 (제목, 작성자, 난이도, 시간)
- `GET /statistics` - 통계 정보
- `GET /random` - 랜덤 레시피
- `GET /difficulty/{level}` - 난이도별 레시피
- `GET /health` - 서버 상태 확인

### **검색 기능**
- 제목 기반 검색
- 작성자별 필터링
- 난이도별 필터링
- 조리 시간별 필터링
- 페이지네이션 지원

---

## 📊 데이터 분석 기능

### **통계 분석**
- 기본 통계 (총 레시피 수, 성공률, 작성자 수 등)
- 난이도별 분포 분석
- 조리 시간별 분포 분석
- 재료 사용 빈도 분석
- 작성자별 활동 분석

### **시각화**
- 난이도 분포 차트
- 조리 시간 분포 차트
- 상위 재료 사용 빈도 차트
- 분석 리포트 자동 생성

---

## 🗂️ 프로젝트 구조

```
ManGeRecipe/
├── 📁 크롤러 파일들
│   ├── 10000recipe.py              # 원본 크롤러
│   ├── 10000recipe_final.py        # 개선된 크롤러
│   ├── 10000recipe_optimized.py    # 성능 최적화 크롤러
│   └── 10000recipe_robust.py       # 안정적인 크롤러
├── 🚀 API 서버
│   ├── api_server.py               # FastAPI 서버
│   └── api_client_example.py       # API 클라이언트 예제
├── 📊 데이터 분석
│   └── data_analyzer.py            # 데이터 분석 도구
├── ⚙️ 설정 및 문서
│   ├── config.yaml                 # 크롤러 설정
│   ├── requirements.txt            # Python 의존성
│   ├── README.md                   # 프로젝트 개요
│   └── RUN_GUIDE.md                # 상세 실행 가이드
└── 📁 데이터 파일들
    ├── food_data.csv               # 레시피 목록 데이터
    └── recipe_data.csv             # 레시피 상세 데이터
```

---

## 🚀 빠른 시작

### 1. **환경 설정**
```bash
# 의존성 설치
pip install -r requirements.txt
```

### 2. **크롤링 실행**
```bash
# 안정적인 크롤러 (권장)
python 10000recipe_robust.py

# 성능 최적화 크롤러
python 10000recipe_optimized.py

# 개선된 크롤러
python 10000recipe_final.py
```

### 3. **데이터 분석**
```bash
python data_analyzer.py
```

### 4. **API 서버 실행**
```bash
python api_server.py
```

### 5. **API 테스트**
```bash
python api_client_example.py
```

---

## 🐍 사용 기술

### **백엔드**
- **Python 3.11+**
- **FastAPI**: 웹 API 프레임워크
- **Uvicorn**: ASGI 서버

### **데이터 처리**
- **requests**: HTTP 요청
- **BeautifulSoup**: HTML 파싱
- **pandas**: 데이터 분석
- **matplotlib/seaborn**: 데이터 시각화

### **성능 최적화**
- **concurrent.futures**: 멀티스레딩
- **tqdm**: 진행률 표시
- **urllib3**: HTTP 연결 관리

### **설정 관리**
- **PyYAML**: YAML 설정 파일
- **logging**: 로깅 시스템

---

## 📈 성능 비교

| 크롤러 | 처리 방식 | 속도 | 안정성 | 특징 |
|--------|-----------|------|--------|------|
| 원본 | 순차 처리 | 느림 | 보통 | 기본 기능 |
| 개선된 | 순차 처리 | 보통 | 높음 | 로깅, 검증 |
| 최적화 | 멀티스레딩 | 빠름 | 보통 | 병렬 처리 |
| 안정적 | 순차 처리 | 느림 | 매우 높음 | 오류 방지 |

---

## 🧯 예외 처리 및 안정성

### **네트워크 오류 처리**
- SSL 오류 자동 복구
- 연결 끊김 재시도
- 타임아웃 설정
- 봇 감지 방지

### **데이터 검증**
- 필수 필드 확인
- 데이터 타입 검증
- 누락 데이터 처리
- 중복 데이터 방지

### **로깅 시스템**
- 상세한 작업 로그
- 오류 추적
- 성능 모니터링
- 파일별 로그 저장

---

## 📊 데이터 활용 계획

- **추천 시스템**: 난이도, 시간 기반 레시피 추천
- **트렌드 분석**: 인기 재료, 조리법 분석
- **개인화 서비스**: 사용자 맞춤형 레시피 제공
- **마트 연계**: 식재료 구매 추천 시스템

---

## ⚠️ 주의 사항

- **저작권**: 데이터는 `10000recipe.com`의 저작권을 따릅니다
- **사용 목적**: 학습/연구 목적으로만 사용해주세요
- **부하 방지**: 적절한 지연 시간을 두고 크롤링해주세요
- **비영리**: 상업적 목적으로 사용하지 마세요

---

## 🤝 기여하기

1. 이슈 등록
2. 브랜치 생성
3. 코드 수정
4. Pull Request 생성

---

## 📄 라이선스

이 프로젝트는 교육 및 연구 목적으로 제작되었습니다.

---

## 📞 문의

프로젝트 관련 문의사항은 GitHub Issues를 통해 연락해주세요.
